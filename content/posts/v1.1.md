---
title: "Terminal7 1.1 - WebRTC signalling over SSH & CLI"
date: 2022-10-31T00:37:49-03:00
---

Hope this version finds you well. The version has two new major features and 
a few bug fixes. It requires webexec upgrade so make sure your server are running
webexec 0.17.10.

## WebRTC signalling over SSH

This one came from [rob](https://youtube.com/c/TechCrafted) and it's about
streamlining security by trickling ICE over SSH. Trickle ICE is an optional part
of the WebRTC protocol that speeds up setup time by streaming addresses (aka candidates).
 To support it we've added a new type of session, a hybrid one. Here's how it flows:

The connect command first starts an SSH session. 
Then it opens an SSH channel and tries to run `/usr/local/bin/webexec accept`.
If webexec is not found it falls back to SSH for the rest of the session.

If the command succeeds T7 waits for "READY" on the channel and then creates
an offer and sends it to the server.
It then receives the server's answer and connection
candidates start streaming in full duplex and the ICE is trickling.
When the connection is established, the SSH session is closed and
WebRTC rules the session.

## CLI

The Tower now has a tiny shell (or a bot?) that accepts a few simple
commands: help, add, connect, reset, gate, edit, hide, map and fortune.
We've refactored the GUI so that almost all actions are shortcuts
to opening the tower and typing a command.
For example when you hit reset the CLI gets the `reset <gate_name>` command.

## Backend
We're also releasing an improved webexec - Version 0.17.10. It includes a required 
update to the accept command.
To upgrade your server run:

```bash
bash -c "$(curl -sL https://get.webexec.sh)"
```

## Testing

If you have an idea how to make the CLI better, please talk to us on the
discord server.
If you find a problem with the new hybrid session please help us fix it by
searching the bug in on our
[issues](https://github.com/tuzig/terminal7/issues).
If you found it please comment with your experience,
If you haven't found it, please feel free to open an issue.
